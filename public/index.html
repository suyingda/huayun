<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <!--<link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">-->
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>React App</title>
    <script type="text/javascript">
        // 记录页面加载开始时间
        var timerStart = Date.now();
    </script>
    <!-- 加载静态资源，如样式资源 -->
</head>

<body>
    <noscript>
        You need to enable JavaScript to run this app.
    </noscript>
    <div id="root"></div>
    <!--  <script src="./../script/md5.js"></script>
  <script src="./../script/base64.js"></script>-->
    <script src="https://at.alicdn.com/t/font_724485_05veh44k1uyq.js"></script>
    <!--svg-->
    <style>
        .icon {
        width: 1em;
        height: 1em;
        vertical-align: -0.15em;
        fill: currentColor;
        overflow: hidden;
    }
    #in{
        margin-left:22px;
        width:460px;
        height:500px;
    }
    ._div1{
        border:1px solid red;
        width:50px;
        height:50px;
        float: left;
    }
    ._div2{
        border:1px solid #ccc;
        width:50px;
        height:50px;
        float: left;
    }
    ._div11{
        border:1px solid  black;
        width:50px;
        height:50px;
        float: left;
    }
    #parent{
        margin:10px;
    }
</style>
    <div id="in" >

    </div>

    <div id="parent"> 
        　　<div id="child1" class="child">child1</div>
        　　<div id="child2" class="child">child2</div>
        　　<div id="child3" class="child">child3</div>
        </div>
    <!--     <ul>
        <a>1</a>
        <a>1</a>
        <a>1</a>
    </ul>
 -->

    <!-- 加载静态JS资源 -->
    <script type="text/javascript">
        document.getElementById("in").addEventListener("click",function(e){
                // alert("parent事件被触发，"+this.id);
                console.log(e.target.innerHTML)
            })
           /*  document.getElementById("child").addEventListener("click",function(e){
                alert("child事件被触发，"+this.id)
            },true) */
     
        window.onload = function () {

            for (var i = 0; i < 10; i++) {
                var _div = document.createElement('div');
                _div.innerHTML = i;
                document.getElementById('in').appendChild(_div);
            }
        }

        //this丢失现象
        /*   document.addEventListener('DOMContentLoaded', function () {
              var divs = document.getElementsByTagName('a');
              console.log(divs, 'divsdivsdivsdivs');
              for (var i = 0; i < divs.length; i++) {
                      divs[i].onclick = function () {
                         (function(i){
                          return function(){
                              console.log(i);
                          }
                         })(i)
                      }
              };
          }, false); */

        console.log('--------------------------------------1')


        /*    var ar = [
               1, 2, 3, 4, 4, 6, 7, 8, 9,
               1, 2, 3, 4, 5, 6, 7, 8, 9,
               1, 2, 3, 4, 5, 6, 7, 8, 9,
               1, 11, 3, 4, 5, 6, 7, 8, 11,
               1, 2, 3, 4, 5, 6, 7, 8, 9,
               1, 2, 3, 4, 5, 6, 7, 8, 9,
               1, 2, 3, 4, 5, 6, 7, 8, 9,
               1, 2, 3, 4, 4, 6, 7, 8, 9
   
           ]
   
   
           for (var i = 0; i < ar.length - 1; i++) {
               var _div = document.createElement('div');
   
               if (ar[i] === 5) {
                   _div.setAttribute('class', '_div1')
                   document.getElementById('in').appendChild(_div);
   
               } else if (ar[i] === 11) {
                   _div.setAttribute('class', '_div11')
                   document.getElementById('in').appendChild(_div);
               } else {
                   _div.setAttribute('class', '_div2')
                   document.getElementById('in').appendChild(_div);
               }
           } */

        console.log('-----------------------------------------')

        // 构造函数
        function People(name, sex) {
            this.name = name;
            this.sex = sex;
            this.eat = function () {
                console.log(this.name + ' eat')
            }
        }

        function newPeople(name, sex) {
            // 创建空对象
            var obj = {}
            // 指定__proto__ 属性
            obj.__proto__ = People.prototype;
            // 指定构造函数
            obj.constructor = People;
            // this指针更正
            People.call(obj, name, sex);
            // 返回对象
            return obj;
        }


        var p1 = new People('kevin', 'male')
        var p2 = newPeople('jenny', 'female')
        console.log(p1)
        p1.eat()
        console.log(p2)
        p2.eat()
        console.log('-----------------------------------------')
        //混合构造函数混合方式(构造函数配合原型)
        function createPerson(name, qq) { //构造函数加属性
            this.qq = qq;
            this.name = name
        }
        createPerson.prototype.showName = function () {//原型加方法
            console.log('my name =' + this.name)
        }
        createPerson.prototype.showQQ = function () {
            console.log('my qq =' + this.qq)
        }
        var obj = new createPerson('Mr Lan', '1023032120');
        var obj2 = new createPerson('Mr Li', '1326532785');
        //obj.showName() //还可以继续用不影响使用
        //obj.showQQ()
        console.log(obj.showName() == obj2.showName())//true

        console.log('----------------------------------')
        function testClass() {
            var testArray1 = [];
            var testArray2 = [];
            this.resetArray = function () {
                for (var i = 0; i < 99999; i++) {
                    testArray1.push(i);
                    testArray2.push(i + 99999);
                }
            }
            this.applyTest = function () {
                var startTime = 0,
                    endTime = 0;
                console.log('开始合并的时间是:' + (startTime = new Date().getTime()));
                var aa = Array.prototype.push.apply(testArray1, testArray2);
                console.log(aa);
                console.log('合并完成的时间是:' + (endTime = new Date().getTime()));
                console.log('合并数组所用的时间是:' + (endTime - startTime));
            }
            this.concatTest = function () {
                var startTime = 0,
                    endTime = 0;
                console.log('开始合并的时间是:' + (startTime = new Date().getTime()));
                var aa = testArray1.concat(testArray2);
                console.log(aa.length);
                console.log('合并完成的时间是:' + (endTime = new Date().getTime()));
                console.log('合并数组所用的时间是:' + (endTime - startTime));
            }
        }
        var apply = new testClass();

        apply.resetArray();
        apply.applyTest();
        var concat = new testClass();
        concat.resetArray();
        concat.concatTest();

        console.log('----------------------------------')
        // class 关键字，ES6新特性
        class ClassCar {
            drive() {
                console.log('Vroom!');
            }
        }
        const car1 = new ClassCar();
        console.log(car1.drive());
        // 构造函数
        function ConstructorCar() { }
        ConstructorCar.prototype.drive = function () {
            console.log('Vroom!1');
        };
        const car2 = new ConstructorCar();
        console.log(car2.drive(), 'xxx');
        // 工厂函数
        const proto = {
            drive() {
                console.log('Vroom!2222222');
            }
        };
        function factoryCar() {
            return Object.create(proto);
        }
        const car3 = factoryCar();
        console.log(car3.drive());
        console.log('-----------------------------------')
        var ar = [9999, 10, 9, 1, 2, -111, 34];
        //var ar = [1,2 10  9999 100000];

        var max = 0;
        var min = 0;
        for (var i = 0; i < ar.length - 1; i++) {
            for (var j = i + 1; j < ar.length; j++) {
                // console.log(i,'xx',j,ar.length)
                if (ar[i] > ar[j]) {
                    var tem = "";
                    tem = ar[i]
                    ar[i] = ar[j];
                    ar[j] = tem;
                }
                min = Math.min.apply(Math, ar)
                max = tem;

            }
        }
        console.log(ar, "<br/>", 'max:', max, 'min:', min)
        document.addEventListener('DOMContentLoaded', function () {
            console.log("DOM 挂载时间: ", Date.now() - timerStart);
            // 性能日志上报
        });
        window.addEventListener('load', function () {
            console.log("所有资源加载完成时间: ", Date.now() - timerStart);
            // 性能日志上报
        });
    </script>
</body>

</html>